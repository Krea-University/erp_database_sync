# ─────────────────────────────────────────────
#  Cloud SQL / Production Server
# ─────────────────────────────────────────────
CLOUD_SQL_INSTANCE=project-id:region:instance-name   # e.g. myproject:us-central1:mydb
CLOUD_SQL_DB=your_database_name
CLOUD_SQL_USER=root
CLOUD_SQL_PASSWORD=your_cloud_sql_password

# Google Cloud service-account key (for gcloud auth / Cloud SQL Proxy)
GOOGLE_APPLICATION_CREDENTIALS=/secrets/gcp-sa-key.json

# Cloud SQL Proxy port on localhost
CLOUD_SQL_PROXY_PORT=3307

# ─────────────────────────────────────────────
#  Local MySQL (Docker)
# ─────────────────────────────────────────────
MYSQL_ROOT_PASSWORD=local_root_password
MYSQL_DATABASE=your_database_name
MYSQL_PORT=3306

# ─────────────────────────────────────────────
#  MySQL Users – JSON array
#  Each object: { "user": "", "password": "", "host": "", "privileges": "" }
#  privileges examples: "ALL PRIVILEGES", "SELECT,INSERT,UPDATE"
# ─────────────────────────────────────────────
MYSQL_USERS_JSON='[
  {"user":"app_user",   "password":"AppP@ssw0rd!",  "host":"%",         "privileges":"ALL PRIVILEGES"},
  {"user":"readonly",   "password":"R3adOnly#2024",  "host":"localhost",  "privileges":"SELECT"},
  {"user":"analytics",  "password":"An@lytic$321",   "host":"%",         "privileges":"SELECT,SHOW VIEW"}
]'

# ─────────────────────────────────────────────
#  Docker image to run after restore
# ─────────────────────────────────────────────
APP_DOCKER_IMAGE=your-registry/your-app:latest
APP_CONTAINER_NAME=erp_app
APP_PORT=8080

# Docker network (must match docker-compose network)
DOCKER_NETWORK=erp_net

# ─────────────────────────────────────────────
#  Sync Schedule (cron)
#  SYNC_INTERVAL_HOURS: 2 or 3  (randomly chosen each run to spread load)
#  Leave SYNC_CRON_OVERRIDE blank to use auto interval, or set a custom cron expression
# ─────────────────────────────────────────────
SYNC_INTERVAL_HOURS=2
SYNC_CRON_OVERRIDE=

# ─────────────────────────────────────────────
#  Paths
# ─────────────────────────────────────────────
BACKUP_DIR=/tmp/cloudsql_backups
LOG_DIR=/var/log/erp_sync
